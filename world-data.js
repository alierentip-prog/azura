/** * Part 2: World Matrix & Collision Physics
 */

AzuraEngine.world = {
    // 0: Yol, 1: Duvar, 2: Tuzak, 3: Enerji, 4: Biti≈ü
    map: [
        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
        [1,0,0,0,1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1],
        [1,0,1,0,1,0,1,1,1,1,1,1,0,1,0,1,1,1,0,1],
        [1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1,0,1,0,1],
        [1,0,1,1,1,1,1,2,1,1,0,1,1,1,1,1,0,1,0,1],
        [1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,1],
        [1,1,1,1,1,0,1,0,1,1,1,1,1,1,1,1,0,1,0,1],
        [1,0,0,0,1,0,1,0,0,0,0,0,0,0,0,1,0,0,0,1],
        [1,0,1,0,1,0,1,1,1,1,1,1,2,1,0,1,1,1,1,1],
        [1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1],
        [1,0,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,0,1],
        [1,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,1],
        [1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,0,1,0,1],
        [1,0,0,0,0,0,0,1,0,1,0,1,0,0,0,1,0,1,0,1],
        [1,0,1,1,1,1,0,1,0,0,0,1,0,1,0,1,0,1,0,1],
        [1,0,1,0,0,1,0,1,1,1,1,1,0,1,0,1,0,0,0,1],
        [1,0,1,0,0,1,0,0,0,0,0,0,0,1,0,1,1,1,0,1],
        [1,0,0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,1,0,1],
        [1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,4,1],
        [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
    ],
    
    getTile(x, y) {
        if(x < 0 || x >= 20 || y < 0 || y >= 20) return 1;
        return this.map[Math.floor(y)][Math.floor(x)];
    },

    checkCollision(nx, ny) {
        const tile = this.getTile(nx, ny);
        if(tile === 1) return 'WALL';
        if(tile === 2) return 'DEATH';
        if(tile === 4) return 'WIN';
        return 'PATH';
    }
};
