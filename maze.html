<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Azura | Cyber Protocol</title>
    <style>
        :root { --neon: #00f2ff; --pink: #ff007f; --bg: #050505; }
        * { margin: 0; padding: 0; box-sizing: border-box; touch-action: none; }
        body { background: var(--bg); color: #fff; font-family: 'Courier New', monospace; overflow: hidden; height: 100vh; }

        #game-ui { position: absolute; inset: 0; pointer-events: none; z-index: 10; padding: 25px; border: 20px solid transparent; border-image: radial-gradient(circle, transparent 70%, rgba(0,242,255,0.05)) 30; }
        .header { display: flex; justify-content: space-between; align-items: flex-start; }
        .stat-group { background: rgba(0,242,255,0.05); border-left: 2px solid var(--neon); padding: 10px 20px; backdrop-filter: blur(5px); }
        .label { font-size: 10px; color: var(--neon); letter-spacing: 2px; }
        .value { font-size: 20px; font-weight: bold; display: block; }

        canvas { display: block; filter: contrast(1.2) saturate(1.2); }

        /* Başlangıç Ekranı */
        #boot-loader { position: fixed; inset: 0; background: #000; z-index: 100; display: flex; flex-direction: column; align-items: center; justify-content: center; transition: 0.8s; }
        .glitch { font-size: 3rem; font-weight: bold; text-shadow: 2px 0 var(--pink), -2px 0 var(--neon); animation: glitch 1s infinite; }
        @keyframes glitch { 0% { transform: translate(0); } 20% { transform: translate(-3px, 2px); } 40% { transform: translate(-3px, -2px); } 60% { transform: translate(3px, 2px); } 80% { transform: translate(3px, -2px); } 100% { transform: translate(0); } }
        .start-trigger { margin-top: 40px; color: var(--neon); border: 1px solid var(--neon); padding: 15px 40px; cursor: pointer; background: transparent; transition: 0.3s; }
        .start-trigger:hover { background: var(--neon); color: #000; box-shadow: 0 0 30px var(--neon); }
    </style>
</head>
<body>

<div id="boot-loader">
    <div class="glitch">AZURA_PROTOCOL</div>
    <div style="color: #444; margin-top: 10px;">NEURAL INTERFACE INITIALIZING...</div>
    <button class="start-trigger" onclick="runCore()">INITIATE LINK</button>
</div>

<div id="game-ui">
    <div class="header">
        <div class="stat-group">
            <span class="label">SYNC_RATE</span>
            <span id="score" class="value">00%</span>
        </div>
        <div class="stat-group">
            <span class="label">CORE_STABILITY</span>
            <span id="stability" class="value">100</span>
        </div>
    </div>
</div>

<canvas id="coreCanvas"></canvas>

<script>
    const canvas = document.getElementById('coreCanvas');
    const ctx = canvas.getContext('2d');
    let score = 0, isLive = false, px = 0, tx = 0, particles = [], walls = [];

    function runCore() {
        document.getElementById('boot-loader').style.opacity = '0';
        setTimeout(() => document.getElementById('boot-loader').style.display = 'none', 800);
        px = canvas.width / 2; tx = px;
        isLive = true;
        loop();
    }

    window.addEventListener('touchmove', e => tx = e.touches[0].clientX);
    window.addEventListener('mousemove', e => tx = e.clientX);

    class Particle {
        constructor(x, y, color) {
            this.x = x; this.y = y; this.v = {x: (Math.random()-0.5)*10, y: (Math.random()-0.5)*10};
            this.life = 1.0; this.color = color;
        }
        draw() {
            this.x += this.v.x; this.y += this.v.y; this.life -= 0.02;
            ctx.fillStyle = this.color; ctx.globalAlpha = this.life;
            ctx.fillRect(this.x, this.y, 3, 3);
            ctx.globalAlpha = 1;
        }
    }

    function spawnWall() {
        if(Math.random() < 0.06) {
            walls.push({ x: Math.random()*canvas.width, y: -50, w: 100+Math.random()*200, h: 15, passed: false });
        }
    }

    function loop() {
        if(!isLive) return;
        ctx.fillStyle = 'rgba(5, 5, 5, 0.2)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        // Grid Efekti
        ctx.strokeStyle = 'rgba(0, 242, 255, 0.03)';
        for(let i=0; i<canvas.width; i+=40) { ctx.beginPath(); ctx.moveTo(i, 0); ctx.lineTo(i, canvas.height); ctx.stroke(); }

        px += (tx - px) * 0.12;

        // Karakter (Triangle Core)
        ctx.shadowBlur = 15; ctx.shadowColor = score > 50 ? '#ff007f' : '#00f2ff';
        ctx.fillStyle = score > 50 ? '#ff007f' : '#00f2ff';
        ctx.beginPath();
        ctx.moveTo(px, canvas.height - 120);
        ctx.lineTo(px - 15, canvas.height - 80);
        ctx.lineTo(px + 15, canvas.height - 80);
        ctx.fill();
        ctx.shadowBlur = 0;

        spawnWall();
        walls.forEach((w, i) => {
            w.y += 8 + (score / 10);
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            ctx.fillRect(w.x, w.y, w.w, w.h);

            // Çarpışma
            if(w.y > canvas.height - 120 && w.y < canvas.height - 80 && px > w.x && px < w.x + w.w) {
                isLive = false; location.reload();
            }
            if(w.y > canvas.height) {
                walls.splice(i, 1);
                score++;
                document.getElementById('score').innerText = score + "%";
                for(let p=0; p<10; p++) particles.push(new Particle(px, canvas.height-100, '#00f2ff'));
            }
        });

        particles.forEach((p, i) => { p.draw(); if(p.life <= 0) particles.splice(i,1); });

        requestAnimationFrame(loop);
    }

    window.addEventListener('resize', () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; });
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
</script>
</body>
</html>
