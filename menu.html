<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azura | Chaos System v10.0</title>
    <link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@700&family=JetBrains+Mono:wght@300;500;800&family=Plus+Jakarta+Sans:wght@200;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #000;
            --neon: #00f2ff;
            --danger: #ff003c;
            --glass: rgba(255, 255, 255, 0.02);
            --font-mono: 'JetBrains Mono', monospace;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body, html {
            background: var(--bg); color: #fff;
            font-family: 'Plus Jakarta Sans', sans-serif;
            overflow: hidden; height: 100vh; width: 100vw;
            cursor: none; /* Gerçek imleci gizle */
        }

        /* --- ARKA PLAN KATMANLARI (Tıklamayı engellememesi için pointer-events: none) --- */
        #core-canvas { position: fixed; inset: 0; z-index: 1; pointer-events: none; filter: contrast(1.5); }
        .grid-mask { position: fixed; inset: 0; z-index: 2; pointer-events: none; background-image: radial-gradient(rgba(0, 242, 255, 0.05) 1px, transparent 1px); background-size: 30px 30px; }
        .vignette { position: fixed; inset: 0; z-index: 5; pointer-events: none; background: radial-gradient(circle, transparent 20%, #000 150%); }
        .scanlines { position: fixed; inset: 0; z-index: 10; pointer-events: none; background: linear-gradient(to bottom, transparent 50%, rgba(0,0,0,0.1) 50%); background-size: 100% 4px; }

        /* ÖZEL İMLEÇ */
        #custom-cursor {
            width: 15px; height: 15px; background: var(--neon); border-radius: 50%;
            position: fixed; pointer-events: none; z-index: 99999;
            box-shadow: 0 0 20px var(--neon); transform: translate(-50%, -50%);
        }

        /* --- ANA SAHNE (En üstte olması için z-index yüksek) --- */
        .main-stage {
            position: relative; z-index: 1000; /* Butonların olduğu katman */
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            height: 100vh; width: 100%; padding: 20px;
        }

        .terminal-box {
            max-width: 900px; width: 100%; min-height: 500px;
            background: var(--glass); border: 1px solid rgba(0, 242, 255, 0.1);
            border-radius: 30px; padding: 50px; backdrop-filter: blur(60px);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            text-align: center; box-shadow: 0 50px 100px rgba(0,0,0,0.8);
        }

        .phase-id { font-family: var(--font-mono); color: var(--danger); font-size: 0.8rem; letter-spacing: 10px; margin-bottom: 20px; }
        .question-h { font-size: clamp(1.8rem, 5vw, 3.5rem); font-weight: 800; margin-bottom: 50px; letter-spacing: -2px; line-height: 1.1; }

        /* BUTONLAR (Tıklanabilir olması için pointer-events: auto) */
        .option-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; width: 100%; pointer-events: auto; }
        .opt-btn {
            background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1);
            padding: 25px; border-radius: 15px; color: #fff; font-size: 0.9rem;
            font-weight: 700; text-transform: uppercase; letter-spacing: 3px;
            transition: all 0.3s; position: relative; cursor: pointer;
        }
        .opt-btn:hover { background: var(--neon); color: #000; box-shadow: 0 0 40px var(--neon); transform: translateY(-5px); }

        /* SİSTEM LOGLARI */
        .side-logs { position: fixed; left: 30px; top: 120px; bottom: 80px; width: 250px; font-family: var(--font-mono); font-size: 0.6rem; color: var(--neon); opacity: 0.4; overflow: hidden; display: flex; flex-direction: column-reverse; gap: 5px; z-index: 500; pointer-events: none; }

        /* FAKE ALERTS */
        .fake-alert { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 40px 60px; background: #111; border: 2px solid var(--danger); z-index: 2000; font-family: var(--font-mono); color: var(--danger); display: none; text-align: center; }

        /* PROGRESS BAR */
        .p-container { width: 100%; height: 2px; background: rgba(255,255,255,0.05); margin-top: 50px; position: relative; overflow: hidden; }
        .p-bar { position: absolute; left: 0; top: 0; height: 100%; width: 0%; background: var(--neon); }

        footer { position: fixed; bottom: 0; width: 100%; padding: 20px 40px; border-top: 1px solid rgba(0, 242, 255, 0.05); display: flex; justify-content: space-between; font-family: var(--font-mono); font-size: 0.6rem; opacity: 0.4; z-index: 1000; pointer-events: none; }
    </style>
</head>
<body>

    <div id="custom-cursor"></div>
    <canvas id="core-canvas"></canvas>
    <div class="grid-mask"></div>
    <div class="vignette"></div>
    <div class="scanlines"></div>

    <div class="fake-alert" id="alert-box">KRİTİK HATA: VERİ TABANI BOZULDU // SİSTEM SIFIRLANIYOR</div>
    <div class="side-logs" id="log-console"></div>

    <header style="position:fixed; top:0; width:100%; padding:25px 40px; display:flex; justify-content:space-between; z-index:1000;">
        <div style="font-family:'Syncopate'; font-size:1.5rem; letter-spacing:10px; color:var(--neon);">AZURA</div>
        <div style="font-family:var(--font-mono); font-size:0.6rem; color:var(--neon); opacity:0.7;">SESSION: <b id="timer">00:00</b> // ADIM: <b id="step-info">01/??</b></div>
    </header>

    <main class="main-stage">
        <div class="terminal-box" id="content-box">
            <span class="phase-id" id="phase-tag">SİSTEM BAŞLATILIYOR</span>
            <h1 class="question-h" id="question-text">Azura Kaos Protokolüne Hoş Geldin Hain. Başlamaya Cesaretin Var mı?</h1>
            <div class="option-grid" id="btn-container">
                <button class="opt-btn" onclick="startEngine()">BAŞLA</button>
                <button class="opt-btn" onclick="startEngine()">KORKUYORUM</button>
            </div>
            <div class="p-container"><div class="p-bar" id="progress-line"></div></div>
        </div>
    </main>

    <script>
        // --- 1. GÖRSEL MOTOR ---
        const canvas = document.getElementById('core-canvas');
        const ctx = canvas.getContext('2d');
        const cursor = document.getElementById('custom-cursor');
        let particles = [];

        window.onresize = () => { canvas.width = innerWidth; canvas.height = innerHeight; };
        canvas.width = innerWidth; canvas.height = innerHeight;

        document.addEventListener('mousemove', e => {
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });

        class Particle {
            constructor() { this.x = Math.random() * canvas.width; this.y = Math.random() * canvas.height; this.vx = (Math.random() - 0.5) * 1; this.vy = (Math.random() - 0.5) * 1; this.radius = Math.random() * 2; }
            update() { this.x += this.vx; this.y += this.vy; if(this.x<0 || this.x>canvas.width) this.vx *= -1; if(this.y<0 || this.y>canvas.height) this.vy *= -1; }
            draw() { ctx.beginPath(); ctx.arc(this.x, this.y, this.radius, 0, Math.PI*2); ctx.fillStyle = 'rgba(0, 242, 255, 0.4)'; ctx.fill(); }
        }

        for(let i=0; i<80; i++) particles.push(new Particle());
        function animate() {
            ctx.clearRect(0,0,canvas.width, canvas.height);
            particles.forEach(p => {
                p.update(); p.draw();
                particles.forEach(p2 => {
                    let d = Math.sqrt(Math.pow(p.x - p2.x, 2) + Math.pow(p.y - p2.y, 2));
                    if(d < 120) { ctx.strokeStyle = `rgba(0, 242, 255, ${1 - d/120})`; ctx.lineWidth = 0.5; ctx.beginPath(); ctx.moveTo(p.x, p.y); ctx.lineTo(p2.x, p2.y); ctx.stroke(); }
                });
            });
            requestAnimationFrame(animate);
        }
        animate();

        // --- 2. KAOS DÖNGÜSÜ (15 DAKİKALIK) ---
        const phaseTag = document.getElementById('phase-tag');
        const questionText = document.getElementById('question-text');
        const btnContainer = document.getElementById('btn-container');
        const progressLine = document.getElementById('progress-line');
        const stepInfo = document.getElementById('step-info');

        let currentStep = 0;
        let time = 0;

        const scenarios = [
            { id: "PRT_01", q: "Zekanın bu sistemi bitirmeye yeteceğini mi sanıyorsun?", opts: ["Evet", "Hayır"], type: "normal" },
            { id: "PRT_02", q: "En yakın arkadaşının sırrını 1 Milyon TL için satar mısın?", opts: ["Satarım", "Asla"], type: "normal" },
            { id: "PRT_03", q: "Şu an kamerandan seni izliyorum. Neden bu kadar ciddisin?", opts: ["İzlemiyorsun", "Ciddi değilim"], type: "glitch" },
            { id: "PRT_04", q: "BUTONU YAKALA (DÜZEY: ZOR)", opts: ["BURADA", "HAYIR BURADA"], type: "move" },
            { id: "PRT_05", q: "SİSTEM TARAMASI: C: Sürücüsü %80 silindi. Durdurulsun mu?", opts: ["DURDUR", "DEVAM ET"], type: "fake_load" },
            { id: "PRT_06", q: "Yalan mı söylersin yoksa gerçeği mi bükersin?", opts: ["Yalan", "Bükerim"], type: "normal" },
            { id: "PRT_07", q: "Şu an faren neden ters çalışıyor sence?", opts: ["Bozuldu", "Sen yaptın"], type: "inverse" },
            { id: "PRT_08", q: "Sence bu testi bitirecek kadar sabırlı mısın?", opts: ["Evet", "Bitir artık"], type: "normal" },
            { id: "PRT_09", q: "EKRAN BOZULUYOR. DURDURMAK İÇİN 3 KEZ TIKLA!", opts: ["TIKLA", "TIKLA"], type: "shake" },
            { id: "PRT_10", q: "BİTİRMEK İÇİN DOĞRU BUTONA BAS. ŞANSLI MISIN?", opts: ["BİTİR", "BAŞA DÖN"], type: "trap" },
            { id: "PRT_11", q: "İnsanları manipüle etmek sence bir yetenek midir?", opts: ["Evet", "Hayır"], type: "normal" },
            { id: "PRT_12", q: "SİSTEM GÜNCELLEMESİ: 60 Saniye beklemen gerekiyor.", opts: ["BEKLE", "İPTAL"], type: "long_load" },
            { id: "PRT_13", q: "01101000 01100001 01101001 01101110?", opts: ["H A İ N", "Nediyor bu?"], type: "normal" },
            { id: "PRT_14", q: "GERÇEK BİR KARAR: Sola basarsan 5 adım geri gidersin.", opts: ["SOL", "SAĞ"], type: "backstep" },
            { id: "PRT_15", q: "Azura Sistemi: Sen bir hain misin?", opts: ["Hainim", "Değilim"], type: "final" }
        ];

        function startEngine() {
            render();
            setInterval(() => {
                time++;
                let m = Math.floor(time / 60);
                let s = time % 60;
                document.getElementById('timer').innerText = `${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`;
            }, 1000);
        }

        function render() {
            if(currentStep >= scenarios.length) currentStep = 0; // Başa dön
            
            const s = scenarios[currentStep];
            phaseTag.innerText = s.id;
            questionText.innerText = s.q;
            btnContainer.innerHTML = '';
            stepInfo.innerText = `${String(currentStep + 1).padStart(2,'0')}/15`;

            s.opts.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = 'opt-btn';
                btn.innerText = opt;
                
                if(s.type === "move") {
                    btn.onmouseover = () => {
                        btn.style.position = 'fixed';
                        btn.style.left = Math.random() * 80 + '%';
                        btn.style.top = Math.random() * 80 + '%';
                    };
                }

                if(s.type === "fake_load") btn.onclick = () => runLoad(50);
                else if(s.type === "long_load") btn.onclick = () => runLoad(150);
                else if(s.type === "trap" && idx === 0) btn.onclick = () => { currentStep = 0; render(); }; // Hainlik: Başa atar
                else if(s.type === "backstep" && idx === 0) btn.onclick = () => { currentStep = Math.max(0, currentStep - 5); render(); };
                else btn.onclick = () => { currentStep++; render(); };
                
                btnContainer.appendChild(btn);
            });
        }

        function runLoad(speed) {
            let width = 0;
            btnContainer.style.pointerEvents = "none";
            const interval = setInterval(() => {
                if(width >= 99) {
                    clearInterval(interval);
                    document.getElementById('alert-box').style.display = 'block';
                    setTimeout(() => {
                        document.getElementById('alert-box').style.display = 'none';
                        width = 0; progressLine.style.width = "0%";
                        btnContainer.style.pointerEvents = "auto";
                        currentStep++; render();
                    }, 2500);
                } else {
                    width += (Math.random() * 0.7);
                    progressLine.style.width = width + "%";
                }
            }, speed);
        }

        // LOG SİSTEMİ
        const logLines = ["> Zihin taraması: AKTİF", "> Hainlik seviyesi ölçülüyor...", "> Sistem sızıntısı: KRİTİK", "> Kullanıcı sinir krizi yakın...", "> Veri silme simülasyonu başlatıldı."];
        setInterval(() => {
            const l = document.createElement('div');
            l.innerText = `[${new Date().toLocaleTimeString()}] ${logLines[Math.floor(Math.random()*logLines.length)]}`;
            document.getElementById('log-console').prepend(l);
            if(document.getElementById('log-console').childNodes.length > 20) document.getElementById('log-console').removeChild(document.getElementById('log-console').lastChild);
        }, 2000);
    </script>
</body>
</html>
